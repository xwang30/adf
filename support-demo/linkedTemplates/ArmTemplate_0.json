{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"factoryName": {
			"type": "string",
			"metadata": "Data Factory name",
			"defaultValue": "support-demo"
		},
		"1472223352600185_100_accessToken": {
			"type": "secureString",
			"metadata": "Secure string for 'accessToken' of '1472223352600185_100'"
		},
		"1472223352600185_150_accessToken": {
			"type": "secureString",
			"metadata": "Secure string for 'accessToken' of '1472223352600185_150'"
		},
		"1472223352600185_20_accessToken": {
			"type": "secureString",
			"metadata": "Secure string for 'accessToken' of '1472223352600185_20'"
		},
		"1472223352600185_30_accessToken": {
			"type": "secureString",
			"metadata": "Secure string for 'accessToken' of '1472223352600185_30'"
		},
		"1472223352600185_50_accessToken": {
			"type": "secureString",
			"metadata": "Secure string for 'accessToken' of '1472223352600185_50'"
		},
		"1472223352600185_pool_100_accessToken": {
			"type": "secureString",
			"metadata": "Secure string for 'accessToken' of '1472223352600185_pool_100'"
		},
		"1472223352600185_pool_150_accessToken": {
			"type": "secureString",
			"metadata": "Secure string for 'accessToken' of '1472223352600185_pool_150'"
		},
		"1472223352600185_pool_20_accessToken": {
			"type": "secureString",
			"metadata": "Secure string for 'accessToken' of '1472223352600185_pool_20'"
		},
		"1472223352600185_pool_30_accessToken": {
			"type": "secureString",
			"metadata": "Secure string for 'accessToken' of '1472223352600185_pool_30'"
		},
		"1472223352600185_pool_50_accessToken": {
			"type": "secureString",
			"metadata": "Secure string for 'accessToken' of '1472223352600185_pool_50'"
		},
		"3833264218587861_100_accessToken": {
			"type": "secureString",
			"metadata": "Secure string for 'accessToken' of '3833264218587861_100'"
		},
		"3833264218587861_150_accessToken": {
			"type": "secureString",
			"metadata": "Secure string for 'accessToken' of '3833264218587861_150'"
		},
		"3833264218587861_20_accessToken": {
			"type": "secureString",
			"metadata": "Secure string for 'accessToken' of '3833264218587861_20'"
		},
		"3833264218587861_30_accessToken": {
			"type": "secureString",
			"metadata": "Secure string for 'accessToken' of '3833264218587861_30'"
		},
		"3833264218587861_50_accessToken": {
			"type": "secureString",
			"metadata": "Secure string for 'accessToken' of '3833264218587861_50'"
		},
		"AzureBlobStorage1_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'AzureBlobStorage1'"
		},
		"AzureDatabricks_accessToken": {
			"type": "secureString",
			"metadata": "Secure string for 'accessToken' of 'AzureDatabricks'"
		},
		"Walmart_accessToken": {
			"type": "secureString",
			"metadata": "Secure string for 'accessToken' of 'Walmart'"
		},
		"Walmart_repo_accessToken": {
			"type": "secureString",
			"metadata": "Secure string for 'accessToken' of 'Walmart_repo'"
		},
		"walmart_100_accessToken": {
			"type": "secureString",
			"metadata": "Secure string for 'accessToken' of 'walmart_100'"
		}
	},
	"variables": {
		"factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
	},
	"resources": [
		{
			"name": "[concat(parameters('factoryName'), '/1472223352600185_100')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureDatabricks",
				"typeProperties": {
					"domain": "https://eastus.azuredatabricks.net",
					"accessToken": {
						"type": "SecureString",
						"value": "[parameters('1472223352600185_100_accessToken')]"
					},
					"newClusterNodeType": "Standard_D8s_v3",
					"newClusterNumOfWorker": "99",
					"newClusterSparkEnvVars": {
						"PYSPARK_PYTHON": "/databricks/python3/bin/python3"
					},
					"newClusterVersion": "5.4.x-scala2.11"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/1472223352600185_150')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureDatabricks",
				"typeProperties": {
					"domain": "https://eastus.azuredatabricks.net",
					"accessToken": {
						"type": "SecureString",
						"value": "[parameters('1472223352600185_150_accessToken')]"
					},
					"newClusterNodeType": "Standard_D8s_v3",
					"newClusterNumOfWorker": "149",
					"newClusterSparkEnvVars": {
						"PYSPARK_PYTHON": "/databricks/python3/bin/python3"
					},
					"newClusterVersion": "5.4.x-scala2.11"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/1472223352600185_20')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureDatabricks",
				"typeProperties": {
					"domain": "https://eastus.azuredatabricks.net",
					"accessToken": {
						"type": "SecureString",
						"value": "[parameters('1472223352600185_20_accessToken')]"
					},
					"newClusterNodeType": "Standard_D8s_v3",
					"newClusterNumOfWorker": "19",
					"newClusterVersion": "5.4.x-scala2.11"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/1472223352600185_30')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureDatabricks",
				"typeProperties": {
					"domain": "https://eastus.azuredatabricks.net",
					"accessToken": {
						"type": "SecureString",
						"value": "[parameters('1472223352600185_30_accessToken')]"
					},
					"newClusterNodeType": "Standard_D8s_v3",
					"newClusterNumOfWorker": "29",
					"newClusterSparkEnvVars": {
						"PYSPARK_PYTHON": "/databricks/python3/bin/python3"
					},
					"newClusterVersion": "5.4.x-scala2.11"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/1472223352600185_50')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureDatabricks",
				"typeProperties": {
					"domain": "https://eastus.azuredatabricks.net",
					"accessToken": {
						"type": "SecureString",
						"value": "[parameters('1472223352600185_50_accessToken')]"
					},
					"newClusterNodeType": "Standard_D8s_v3",
					"newClusterNumOfWorker": "49",
					"newClusterSparkEnvVars": {
						"PYSPARK_PYTHON": "/databricks/python3/bin/python3"
					},
					"newClusterVersion": "5.4.x-scala2.11"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/1472223352600185_pool_100')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureDatabricks",
				"typeProperties": {
					"domain": "https://eastus.azuredatabricks.net",
					"accessToken": {
						"type": "SecureString",
						"value": "[parameters('1472223352600185_pool_100_accessToken')]"
					},
					"instancePoolId": "1007-053721-chile140-pool-cyJz7vse",
					"newClusterNumOfWorker": "99",
					"newClusterVersion": "5.4.x-scala2.11"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/1472223352600185_pool_150')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureDatabricks",
				"typeProperties": {
					"domain": "https://eastus.azuredatabricks.net",
					"accessToken": {
						"type": "SecureString",
						"value": "[parameters('1472223352600185_pool_150_accessToken')]"
					},
					"instancePoolId": "1007-053721-chile140-pool-cyJz7vse",
					"newClusterNumOfWorker": "149",
					"newClusterVersion": "5.4.x-scala2.11"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/1472223352600185_pool_20')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureDatabricks",
				"typeProperties": {
					"domain": "https://eastus.azuredatabricks.net",
					"accessToken": {
						"type": "SecureString",
						"value": "[parameters('1472223352600185_pool_20_accessToken')]"
					},
					"instancePoolId": "1007-053721-chile140-pool-cyJz7vse",
					"newClusterNumOfWorker": "19",
					"newClusterVersion": "5.4.x-scala2.11"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/1472223352600185_pool_30')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureDatabricks",
				"typeProperties": {
					"domain": "https://eastus.azuredatabricks.net",
					"accessToken": {
						"type": "SecureString",
						"value": "[parameters('1472223352600185_pool_30_accessToken')]"
					},
					"instancePoolId": "1007-053721-chile140-pool-cyJz7vse",
					"newClusterNumOfWorker": "29",
					"newClusterVersion": "5.4.x-scala2.11"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/1472223352600185_pool_50')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureDatabricks",
				"typeProperties": {
					"domain": "https://eastus.azuredatabricks.net",
					"accessToken": {
						"type": "SecureString",
						"value": "[parameters('1472223352600185_pool_50_accessToken')]"
					},
					"instancePoolId": "1007-053721-chile140-pool-cyJz7vse",
					"newClusterNumOfWorker": "49",
					"newClusterVersion": "5.4.x-scala2.11"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/3833264218587861_100')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureDatabricks",
				"typeProperties": {
					"domain": "https://eastus.azuredatabricks.net",
					"accessToken": {
						"type": "SecureString",
						"value": "[parameters('3833264218587861_100_accessToken')]"
					},
					"instancePoolId": "1007-041347-sworn541-pool-iMXbz6up",
					"newClusterNumOfWorker": "99",
					"newClusterVersion": "5.4.x-scala2.11"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/3833264218587861_150')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureDatabricks",
				"typeProperties": {
					"domain": "https://eastus.azuredatabricks.net",
					"accessToken": {
						"type": "SecureString",
						"value": "[parameters('3833264218587861_150_accessToken')]"
					},
					"instancePoolId": "1007-041347-sworn541-pool-iMXbz6up",
					"newClusterNumOfWorker": "149",
					"newClusterVersion": "5.4.x-gpu-scala2.11"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/3833264218587861_20')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureDatabricks",
				"typeProperties": {
					"domain": "https://eastus.azuredatabricks.net",
					"accessToken": {
						"type": "SecureString",
						"value": "[parameters('3833264218587861_20_accessToken')]"
					},
					"instancePoolId": "1007-041347-sworn541-pool-iMXbz6up",
					"newClusterNumOfWorker": "19",
					"newClusterVersion": "5.4.x-scala2.11"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/3833264218587861_30')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureDatabricks",
				"typeProperties": {
					"domain": "https://eastus.azuredatabricks.net",
					"accessToken": {
						"type": "SecureString",
						"value": "[parameters('3833264218587861_30_accessToken')]"
					},
					"instancePoolId": "1007-041347-sworn541-pool-iMXbz6up",
					"newClusterNumOfWorker": "29",
					"newClusterVersion": "5.4.x-scala2.11"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/3833264218587861_50')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureDatabricks",
				"typeProperties": {
					"domain": "https://eastus.azuredatabricks.net",
					"accessToken": {
						"type": "SecureString",
						"value": "[parameters('3833264218587861_50_accessToken')]"
					},
					"instancePoolId": "1007-041347-sworn541-pool-iMXbz6up",
					"newClusterNumOfWorker": "49",
					"newClusterVersion": "5.4.x-scala2.11"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/AzureBlobStorage1')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobStorage",
				"typeProperties": {
					"connectionString": "[parameters('AzureBlobStorage1_connectionString')]"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/AzureDatabricks')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "Connect to workspace",
				"annotations": [],
				"type": "AzureDatabricks",
				"typeProperties": {
					"domain": "https://westus2.azuredatabricks.net",
					"accessToken": {
						"type": "SecureString",
						"value": "[parameters('AzureDatabricks_accessToken')]"
					},
					"existingClusterId": "0816-231109-albs775"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Walmart')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureDatabricks",
				"typeProperties": {
					"domain": "https://eastus.azuredatabricks.net",
					"accessToken": {
						"type": "SecureString",
						"value": "[parameters('Walmart_accessToken')]"
					},
					"newClusterNodeType": "Standard_D16s_v3",
					"newClusterNumOfWorker": "150",
					"newClusterSparkEnvVars": {
						"PYSPARK_PYTHON": "/databricks/python3/bin/python3"
					},
					"newClusterVersion": "5.4.x-scala2.11"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Walmart_repo')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureDatabricks",
				"typeProperties": {
					"domain": "https://eastus.azuredatabricks.net",
					"accessToken": {
						"type": "SecureString",
						"value": "[parameters('Walmart_repo_accessToken')]"
					},
					"newClusterNodeType": "Standard_D16s_v3",
					"newClusterNumOfWorker": "100",
					"newClusterSparkEnvVars": {
						"PYSPARK_PYTHON": "/databricks/python3/bin/python3"
					},
					"newClusterVersion": "apache-spark-2.4.x-scala2.11"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/walmart_100')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureDatabricks",
				"typeProperties": {
					"domain": "https://eastus.azuredatabricks.net",
					"accessToken": {
						"type": "SecureString",
						"value": "[parameters('walmart_100_accessToken')]"
					},
					"newClusterNodeType": "Standard_D8s_v3",
					"newClusterNumOfWorker": "99",
					"newClusterSparkEnvVars": {
						"PYSPARK_PYTHON": "/databricks/python3/bin/python3"
					},
					"newClusterVersion": "5.4.x-scala2.11"
				}
			},
			"dependsOn": []
		}
	]
}